{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/pc/Public/zenith/gatsby-firebase-starter-NEW/src/components/scenes/Auth/molecules/SignInForm.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { navigate } from 'gatsby';\nimport { withFirebase } from \"../../../../utils/Firebase\";\nimport { HOME } from \"../../../../constants/routes\";\nimport Input from \"../../../atoms/Input\";\nimport Button from \"../../../atoms/Button\";\nvar INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null\n};\n\nvar SignInForm = function (_Component) {\n  _inherits(SignInForm, _Component);\n\n  var _super = _createSuper(SignInForm);\n\n  function SignInForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignInForm);\n\n    _this = _super.call(this, props);\n\n    _this.firebaseInit = function () {\n      if (_this.props.firebase && !_this._initFirebase) {\n        _this._initFirebase = true;\n\n        _this.initialRequest();\n      }\n    };\n\n    _this.initialRequest = function () {};\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      _this.props.firebase.doSignInWithEmailAndPassword(email, password).then(function () {\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n\n        navigate(HOME);\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.testFirebase = function () {};\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignInForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.firebaseInit();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.firebaseInit();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error;\n      var isInvalid = password === '' || email === '';\n      return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, React.createElement(Input, {\n        name: \"email\",\n        value: email,\n        onChange: this.onChange,\n        type: \"text\",\n        labelName: \"Email\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }), React.createElement(Input, {\n        name: \"password\",\n        value: password,\n        onChange: this.onChange,\n        type: \"password\",\n        labelName: \"Password\",\n        className: \"input--no-margin\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }), React.createElement(Button, {\n        disabled: isInvalid,\n        type: \"submit\",\n        text: \"Log in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, error.message)));\n    }\n  }]);\n\n  return SignInForm;\n}(Component);\n\nexport default withFirebase(SignInForm);","map":{"version":3,"sources":["/home/pc/Public/zenith/gatsby-firebase-starter-NEW/src/components/scenes/Auth/molecules/SignInForm.jsx"],"names":["React","Component","navigate","withFirebase","HOME","Input","Button","INITIAL_STATE","email","password","error","SignInForm","props","firebaseInit","firebase","_initFirebase","initialRequest","onSubmit","event","state","doSignInWithEmailAndPassword","then","setState","catch","preventDefault","onChange","target","name","value","testFirebase","isInvalid","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { navigate } from 'gatsby';\n\nimport { withFirebase } from '../../../../utils/Firebase';\nimport { HOME } from '../../../../constants/routes';\nimport Input from '../../../atoms/Input';\nimport Button from '../../../atoms/Button';\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n};\n\nclass SignInForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  firebaseInit = () => {\n    if (this.props.firebase && !this._initFirebase) {\n      this._initFirebase = true;\n\n      this.initialRequest();\n    }\n  };\n\n  initialRequest = () => {};\n\n  componentDidMount() {\n    this.firebaseInit();\n  }\n\n  componentDidUpdate() {\n    this.firebaseInit();\n  }\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        navigate(HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  testFirebase = () => {};\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === '' || email === '';\n\n    return (\n      <>\n        <form onSubmit={this.onSubmit}>\n          <Input\n            name=\"email\"\n            value={email}\n            onChange={this.onChange}\n            type=\"text\"\n            labelName=\"Email\"\n            required\n          />\n\n          <Input\n            name=\"password\"\n            value={password}\n            onChange={this.onChange}\n            type=\"password\"\n            labelName=\"Password\"\n            className=\"input--no-margin\"\n            required\n          />\n\n          <Button disabled={isInvalid} type=\"submit\" text=\"Log in\" />\n\n          {error && <p>{error.message}</p>}\n        </form>\n      </>\n    );\n  }\n}\n\nexport default withFirebase(SignInForm);\n"]},"metadata":{},"sourceType":"module"}