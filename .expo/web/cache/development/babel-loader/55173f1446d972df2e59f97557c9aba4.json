{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/home/pc/Public/zenith/gatsby-firebase-starter-NEW/.cache/develop-static-entry.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport { merge } from \"lodash\";\nimport apiRunner from \"./api-runner-ssr\";\n\nvar testRequireError = function testRequireError(moduleName, err) {\n  var regex = new RegExp(\"Error: Cannot find module\\\\s.\" + moduleName);\n  var firstLine = err.toString().split(\"\\n\")[0];\n  return regex.test(firstLine);\n};\n\nvar Html;\n\ntry {\n  Html = require(\"../src/html\");\n} catch (err) {\n  if (testRequireError(\"../src/html\", err)) {\n    Html = require(\"./default-html\");\n  } else {\n    console.log(\"There was an error requiring \\\"src/html.js\\\"\\n\\n\", err, \"\\n\\n\");\n    process.exit();\n  }\n}\n\nHtml = Html && Html.__esModule ? Html.default : Html;\nexport default (function (pagePath, callback) {\n  var headComponents = [React.createElement(\"meta\", {\n    key: \"environment\",\n    name: \"note\",\n    content: \"environment=development\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  })];\n  var htmlAttributes = {};\n  var bodyAttributes = {};\n  var preBodyComponents = [];\n  var postBodyComponents = [];\n  var bodyProps = {};\n  var htmlStr;\n\n  var setHeadComponents = function setHeadComponents(components) {\n    headComponents = headComponents.concat(components);\n  };\n\n  var setHtmlAttributes = function setHtmlAttributes(attributes) {\n    htmlAttributes = merge(htmlAttributes, attributes);\n  };\n\n  var setBodyAttributes = function setBodyAttributes(attributes) {\n    bodyAttributes = merge(bodyAttributes, attributes);\n  };\n\n  var setPreBodyComponents = function setPreBodyComponents(components) {\n    preBodyComponents = preBodyComponents.concat(components);\n  };\n\n  var setPostBodyComponents = function setPostBodyComponents(components) {\n    postBodyComponents = postBodyComponents.concat(components);\n  };\n\n  var setBodyProps = function setBodyProps(props) {\n    bodyProps = merge({}, bodyProps, props);\n  };\n\n  var getHeadComponents = function getHeadComponents() {\n    return headComponents;\n  };\n\n  var replaceHeadComponents = function replaceHeadComponents(components) {\n    headComponents = components;\n  };\n\n  var getPreBodyComponents = function getPreBodyComponents() {\n    return preBodyComponents;\n  };\n\n  var replacePreBodyComponents = function replacePreBodyComponents(components) {\n    preBodyComponents = components;\n  };\n\n  var getPostBodyComponents = function getPostBodyComponents() {\n    return postBodyComponents;\n  };\n\n  var replacePostBodyComponents = function replacePostBodyComponents(components) {\n    postBodyComponents = components;\n  };\n\n  apiRunner(\"onRenderBody\", {\n    setHeadComponents: setHeadComponents,\n    setHtmlAttributes: setHtmlAttributes,\n    setBodyAttributes: setBodyAttributes,\n    setPreBodyComponents: setPreBodyComponents,\n    setPostBodyComponents: setPostBodyComponents,\n    setBodyProps: setBodyProps,\n    pathname: pagePath\n  });\n  apiRunner(\"onPreRenderHTML\", {\n    getHeadComponents: getHeadComponents,\n    replaceHeadComponents: replaceHeadComponents,\n    getPreBodyComponents: getPreBodyComponents,\n    replacePreBodyComponents: replacePreBodyComponents,\n    getPostBodyComponents: getPostBodyComponents,\n    replacePostBodyComponents: replacePostBodyComponents,\n    pathname: pagePath\n  });\n  var htmlElement = React.createElement(Html, _objectSpread(_objectSpread({}, bodyProps), {}, {\n    body: \"\",\n    headComponents: headComponents.concat([React.createElement(\"script\", {\n      key: \"io\",\n      src: \"/socket.io/socket.io.js\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    })]),\n    htmlAttributes: htmlAttributes,\n    bodyAttributes: bodyAttributes,\n    preBodyComponents: preBodyComponents,\n    postBodyComponents: postBodyComponents.concat([React.createElement(\"script\", {\n      key: \"commons\",\n      src: \"/commons.js\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    })])\n  }));\n  htmlStr = renderToStaticMarkup(htmlElement);\n  htmlStr = \"<!DOCTYPE html>\" + htmlStr;\n  callback(null, htmlStr);\n});","map":{"version":3,"sources":["/home/pc/Public/zenith/gatsby-firebase-starter-NEW/.cache/develop-static-entry.js"],"names":["React","renderToStaticMarkup","merge","apiRunner","testRequireError","moduleName","err","regex","RegExp","firstLine","toString","split","test","Html","require","console","log","process","exit","__esModule","default","pagePath","callback","headComponents","htmlAttributes","bodyAttributes","preBodyComponents","postBodyComponents","bodyProps","htmlStr","setHeadComponents","components","concat","setHtmlAttributes","attributes","setBodyAttributes","setPreBodyComponents","setPostBodyComponents","setBodyProps","props","getHeadComponents","replaceHeadComponents","getPreBodyComponents","replacePreBodyComponents","getPostBodyComponents","replacePostBodyComponents","pathname","htmlElement","createElement","body"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { renderToStaticMarkup } from \"react-dom/server\"\nimport { merge } from \"lodash\"\nimport apiRunner from \"./api-runner-ssr\"\n// import testRequireError from \"./test-require-error\"\n// For some extremely mysterious reason, webpack adds the above module *after*\n// this module so that when this code runs, testRequireError is undefined.\n// So in the meantime, we'll just inline it.\nconst testRequireError = (moduleName, err) => {\n  const regex = new RegExp(`Error: Cannot find module\\\\s.${moduleName}`)\n  const firstLine = err.toString().split(`\\n`)[0]\n  return regex.test(firstLine)\n}\n\nlet Html\ntry {\n  Html = require(`../src/html`)\n} catch (err) {\n  if (testRequireError(`../src/html`, err)) {\n    Html = require(`./default-html`)\n  } else {\n    console.log(`There was an error requiring \"src/html.js\"\\n\\n`, err, `\\n\\n`)\n    process.exit()\n  }\n}\n\nHtml = Html && Html.__esModule ? Html.default : Html\n\nexport default (pagePath, callback) => {\n  let headComponents = [\n    <meta key=\"environment\" name=\"note\" content=\"environment=development\" />,\n  ]\n  let htmlAttributes = {}\n  let bodyAttributes = {}\n  let preBodyComponents = []\n  let postBodyComponents = []\n  let bodyProps = {}\n  let htmlStr\n\n  const setHeadComponents = components => {\n    headComponents = headComponents.concat(components)\n  }\n\n  const setHtmlAttributes = attributes => {\n    htmlAttributes = merge(htmlAttributes, attributes)\n  }\n\n  const setBodyAttributes = attributes => {\n    bodyAttributes = merge(bodyAttributes, attributes)\n  }\n\n  const setPreBodyComponents = components => {\n    preBodyComponents = preBodyComponents.concat(components)\n  }\n\n  const setPostBodyComponents = components => {\n    postBodyComponents = postBodyComponents.concat(components)\n  }\n\n  const setBodyProps = props => {\n    bodyProps = merge({}, bodyProps, props)\n  }\n\n  const getHeadComponents = () => headComponents\n\n  const replaceHeadComponents = components => {\n    headComponents = components\n  }\n\n  const getPreBodyComponents = () => preBodyComponents\n\n  const replacePreBodyComponents = components => {\n    preBodyComponents = components\n  }\n\n  const getPostBodyComponents = () => postBodyComponents\n\n  const replacePostBodyComponents = components => {\n    postBodyComponents = components\n  }\n\n  apiRunner(`onRenderBody`, {\n    setHeadComponents,\n    setHtmlAttributes,\n    setBodyAttributes,\n    setPreBodyComponents,\n    setPostBodyComponents,\n    setBodyProps,\n    pathname: pagePath,\n  })\n\n  apiRunner(`onPreRenderHTML`, {\n    getHeadComponents,\n    replaceHeadComponents,\n    getPreBodyComponents,\n    replacePreBodyComponents,\n    getPostBodyComponents,\n    replacePostBodyComponents,\n    pathname: pagePath,\n  })\n\n  const htmlElement = React.createElement(Html, {\n    ...bodyProps,\n    body: ``,\n    headComponents: headComponents.concat([\n      <script key={`io`} src=\"/socket.io/socket.io.js\" />,\n    ]),\n    htmlAttributes,\n    bodyAttributes,\n    preBodyComponents,\n    postBodyComponents: postBodyComponents.concat([\n      <script key={`commons`} src=\"/commons.js\" />,\n    ]),\n  })\n  htmlStr = renderToStaticMarkup(htmlElement)\n  htmlStr = `<!DOCTYPE html>${htmlStr}`\n\n  callback(null, htmlStr)\n}\n"]},"metadata":{},"sourceType":"module"}