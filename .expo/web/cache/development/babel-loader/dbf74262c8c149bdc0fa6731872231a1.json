{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/pc/Public/zenith/gatsby-firebase-starter-NEW/src/components/scenes/Auth/scenes/SignUp/molecules/SignUpFormBase.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { withFirebase } from \"../../../../../../utils/Firebase\";\nimport { HOME } from \"../../../../../../constants/routes\";\nimport { navigate } from 'gatsby';\nimport Input from \"../../../../../atoms/Input\";\nimport Button from \"../../../../../atoms/Button\";\nvar INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null\n};\nvar ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\nvar ERROR_MSG_ACCOUNT_EXISTS = \"\\n    An account with this E-Mail address already exists.\\n    Try to login with this account instead. If you think the\\n    account is already used from one of the social logins, try\\n    to sign in with one of them. Afterward, associate your accounts\\n    on your personal account page.\\n  \";\n\nvar SignUpFormBase = function (_Component) {\n  _inherits(SignUpFormBase, _Component);\n\n  var _super = _createSuper(SignUpFormBase);\n\n  function SignUpFormBase(props) {\n    var _this;\n\n    _classCallCheck(this, SignUpFormBase);\n\n    _this = _super.call(this, props);\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          passwordOne = _this$state.passwordOne;\n\n      _this.props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne).then(function () {\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n\n        navigate(HOME);\n      }).catch(function (error) {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        _this.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onChangeCheckbox = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.checked));\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignUpFormBase, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          email = _this$state2.email,\n          passwordOne = _this$state2.passwordOne,\n          passwordTwo = _this$state2.passwordTwo,\n          error = _this$state2.error;\n      var isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '' || username === '';\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, React.createElement(Input, {\n        name: \"username\",\n        value: username,\n        onChange: this.onChange,\n        type: \"text\",\n        required: true,\n        labelName: \"Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }), React.createElement(Input, {\n        name: \"email\",\n        value: email,\n        onChange: this.onChange,\n        type: \"text\",\n        required: true,\n        labelName: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }), React.createElement(Input, {\n        name: \"passwordOne\",\n        value: passwordOne,\n        onChange: this.onChange,\n        type: \"password\",\n        required: true,\n        labelName: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }), React.createElement(Input, {\n        name: \"passwordTwo\",\n        value: passwordTwo,\n        onChange: this.onChange,\n        type: \"password\",\n        required: true,\n        labelName: \"Confirm Password\",\n        className: \"input--no-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        type: \"submit\",\n        disabled: isInvalid,\n        onClick: this.onSubmit,\n        text: \"Sign Up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      }, error.message));\n    }\n  }]);\n\n  return SignUpFormBase;\n}(Component);\n\nexport default withFirebase(SignUpFormBase);","map":{"version":3,"sources":["/home/pc/Public/zenith/gatsby-firebase-starter-NEW/src/components/scenes/Auth/scenes/SignUp/molecules/SignUpFormBase.jsx"],"names":["React","Component","withFirebase","HOME","navigate","Input","Button","INITIAL_STATE","username","email","passwordOne","passwordTwo","isAdmin","error","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","props","onSubmit","event","state","firebase","doCreateUserWithEmailAndPassword","then","setState","catch","code","message","preventDefault","onChange","target","name","value","onChangeCheckbox","checked","isInvalid"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,YAAT;AACA,SAASC,IAAT;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,OAAOC,KAAP;AACA,OAAOC,MAAP;AAEA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,QAAQ,EAAE,EADU;AAEpBC,EAAAA,KAAK,EAAE,EAFa;AAGpBC,EAAAA,WAAW,EAAE,EAHO;AAIpBC,EAAAA,WAAW,EAAE,EAJO;AAKpBC,EAAAA,OAAO,EAAE,KALW;AAMpBC,EAAAA,KAAK,EAAE;AANa,CAAtB;AASA,IAAMC,yBAAyB,GAAG,2BAAlC;AAEA,IAAMC,wBAAwB,ySAA9B;;IAQMC,c;;;;;AACJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAMnBC,QANmB,GAMR,UAAAC,KAAK,EAAI;AAAA,wBACa,MAAKC,KADlB;AAAA,UACVX,KADU,eACVA,KADU;AAAA,UACHC,WADG,eACHA,WADG;;AAGlB,YAAKO,KAAL,CAAWI,QAAX,CACGC,gCADH,CACoCb,KADpC,EAC2CC,WAD3C,EAEGa,IAFH,CAEQ,YAAM;AACV,cAAKC,QAAL,mBAAmBjB,aAAnB;;AACAH,QAAAA,QAAQ,CAACD,IAAD,CAAR;AACD,OALH,EAMGsB,KANH,CAMS,UAAAZ,KAAK,EAAI;AACd,YAAIA,KAAK,CAACa,IAAN,KAAeZ,yBAAnB,EAA8C;AAC5CD,UAAAA,KAAK,CAACc,OAAN,GAAgBZ,wBAAhB;AACD;;AAED,cAAKS,QAAL,CAAc;AAAEX,UAAAA,KAAK,EAALA;AAAF,SAAd;AACD,OAZH;;AAcAM,MAAAA,KAAK,CAACS,cAAN;AACD,KAxBkB;;AAAA,UA0BnBC,QA1BmB,GA0BR,UAAAV,KAAK,EAAI;AAClB,YAAKK,QAAL,qBAAiBL,KAAK,CAACW,MAAN,CAAaC,IAA9B,EAAqCZ,KAAK,CAACW,MAAN,CAAaE,KAAlD;AACD,KA5BkB;;AAAA,UA8BnBC,gBA9BmB,GA8BA,UAAAd,KAAK,EAAI;AAC1B,YAAKK,QAAL,qBAAiBL,KAAK,CAACW,MAAN,CAAaC,IAA9B,EAAqCZ,KAAK,CAACW,MAAN,CAAaI,OAAlD;AACD,KAhCkB;;AAGjB,UAAKd,KAAL,qBAAkBb,aAAlB;AAHiB;AAIlB;;;;6BA8BQ;AAAA,yBAOH,KAAKa,KAPF;AAAA,UAELZ,QAFK,gBAELA,QAFK;AAAA,UAGLC,KAHK,gBAGLA,KAHK;AAAA,UAILC,WAJK,gBAILA,WAJK;AAAA,UAKLC,WALK,gBAKLA,WALK;AAAA,UAMLE,KANK,gBAMLA,KANK;AASP,UAAMsB,SAAS,GACbzB,WAAW,KAAKC,WAAhB,IACAD,WAAW,KAAK,EADhB,IAEAD,KAAK,KAAK,EAFV,IAGAD,QAAQ,KAAK,EAJf;AAMA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,KAAK,EAAEA,QAFT;AAGE,QAAA,QAAQ,EAAE,KAAKqB,QAHjB;AAIE,QAAA,IAAI,EAAC,MAJP;AAKE,QAAA,QAAQ,EAAE,IALZ;AAME,QAAA,SAAS,EAAC,UANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAUE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,KAAK,EAAEpB,KAFT;AAGE,QAAA,QAAQ,EAAE,KAAKoB,QAHjB;AAIE,QAAA,IAAI,EAAC,MAJP;AAKE,QAAA,QAAQ,EAAE,IALZ;AAME,QAAA,SAAS,EAAC,OANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAmBE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,aADP;AAEE,QAAA,KAAK,EAAEnB,WAFT;AAGE,QAAA,QAAQ,EAAE,KAAKmB,QAHjB;AAIE,QAAA,IAAI,EAAC,UAJP;AAKE,QAAA,QAAQ,EAAE,IALZ;AAME,QAAA,SAAS,EAAC,UANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBF,EA4BE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,aADP;AAEE,QAAA,KAAK,EAAElB,WAFT;AAGE,QAAA,QAAQ,EAAE,KAAKkB,QAHjB;AAIE,QAAA,IAAI,EAAC,UAJP;AAKE,QAAA,QAAQ,EAAE,IALZ;AAME,QAAA,SAAS,EAAC,kBANZ;AAOE,QAAA,SAAS,EAAC,kBAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BF,EAsCE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,QAAQ,EAAEM,SAFZ;AAGE,QAAA,OAAO,EAAE,KAAKjB,QAHhB;AAIE,QAAA,IAAI,EAAC,SAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCF,EA6CGL,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIA,KAAK,CAACc,OAAV,CA7CZ,CADF;AAiDD;;;;EAnG0B1B,S;;AAsG7B,eAAeC,YAAY,CAACc,cAAD,CAA3B","sourcesContent":["import React, { Component } from 'react';\nimport { withFirebase } from '../../../../../../utils/Firebase';\nimport { HOME } from '../../../../../../constants/routes';\nimport { navigate } from 'gatsby';\nimport Input from '../../../../../atoms/Input';\nimport Button from '../../../../../atoms/Button';\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n    An account with this E-Mail address already exists.\n    Try to login with this account instead. If you think the\n    account is already used from one of the social logins, try\n    to sign in with one of them. Afterward, associate your accounts\n    on your personal account page.\n  `;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email, passwordOne } = this.state;\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        navigate(HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onChangeCheckbox = event => {\n    this.setState({ [event.target.name]: event.target.checked });\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n\n    return (\n      <div>\n        <Input\n          name=\"username\"\n          value={username}\n          onChange={this.onChange}\n          type=\"text\"\n          required={true}\n          labelName=\"Username\"\n        />\n\n        <Input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          required={true}\n          labelName=\"Email\"\n        />\n\n        <Input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          required={true}\n          labelName=\"Password\"\n        />\n\n        <Input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          required={true}\n          labelName=\"Confirm Password\"\n          className=\"input--no-margin\"\n        />\n\n        <Button\n          type=\"submit\"\n          disabled={isInvalid}\n          onClick={this.onSubmit}\n          text=\"Sign Up\"\n        />\n\n        {error && <p>{error.message}</p>}\n      </div>\n    );\n  }\n}\n\nexport default withFirebase(SignUpFormBase);\n"]},"metadata":{},"sourceType":"module"}